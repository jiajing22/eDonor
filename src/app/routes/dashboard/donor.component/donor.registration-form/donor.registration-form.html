<!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<navbar-layout-basic></navbar-layout-basic>
<donor-sidebar>
  <h3>Registration Form</h3>
  <div *ngIf="currentPage === 1">
    <form nz-form class="form" [formGroup]="regForm" (ngSubmit)="submitForm()">
      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="name" [nzRequired]="true" [nzLabelAlign]="'left'">Full Name</nz-form-label>
        <nz-form-control [nzSpan]="10" [nzErrorTip]="confirmErrorTip">
          <input nz-input formControlName="name"/>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="ic" [nzRequired]="true" [nzLabelAlign]="'left'">IC No.</nz-form-label>
        <nz-form-control [nzSpan]="10" [nzErrorTip]="confirmErrorTip">
          <input nz-input formControlName="ic" placeholder="(Without'-')"/>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="dob" [nzRequired]="true" [nzLabelAlign]="'left'">Date of Birth
        </nz-form-label>
        <nz-form-control [nzErrorTip]="confirmErrorTip">
          <nz-date-picker [nzDisabledDate]="isDisabledDate" formControlName="dob"></nz-date-picker>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="age" [nzRequired]="true" [nzLabelAlign]="'left'">Age</nz-form-label>
        <nz-form-control [nzErrorTip]="confirmErrorTip">
          <nz-input-number formControlName="age" [nzMin]="18" [nzMax]="70" [nzStep]="1"></nz-input-number>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="ethnic" [nzRequired]="true" [nzLabelAlign]="'left'">Ethnicity</nz-form-label>
        <nz-form-control [nzSpan]="8" [nzErrorTip]="confirmErrorTip">
          <nz-select formControlName="ethnic">
            <nz-option *ngFor="let option of ethnic" [nzValue]="option.value"
                       [nzLabel]="option.value"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="maritial" [nzRequired]="true" [nzLabelAlign]="'left'">Maritial Status
        </nz-form-label>
        <nz-form-control [nzSpan]="8" [nzErrorTip]="confirmErrorTip">
          <nz-select formControlName="maritial">
            <nz-option *ngFor="let option of maritial" [nzValue]="option.value"
                       [nzLabel]="option.value"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="occupation" [nzRequired]="true" [nzLabelAlign]="'left'">Occupation
        </nz-form-label>
        <nz-form-control [nzSpan]="8" [nzErrorTip]="confirmErrorTip">
          <input nz-input formControlName="occupation"/>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="homeTel" [nzLabelAlign]="'left'">Home Tel No.
        </nz-form-label>
        <nz-form-control [nzSpan]="8" [nzErrorTip]="confirmErrorTip">
          <input nz-input formControlName="homeTel"/>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="hpTel" [nzRequired]="true" [nzLabelAlign]="'left'">H/P Tel No.
        </nz-form-label>
        <nz-form-control [nzSpan]="8" [nzErrorTip]="confirmErrorTip">
          <input nz-input formControlName="hpTel"/>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="currentAd" [nzRequired]="true" [nzLabelAlign]="'left'">Current Home Address
        </nz-form-label>
        <nz-form-control [nzSpan]="12" [nzErrorTip]="confirmErrorTip">
          <textarea nz-input formControlName="currentAd"></textarea>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="state" [nzRequired]="true" [nzLabelAlign]="'left'">State</nz-form-label>
        <nz-form-control [nzSpan]="6" [nzErrorTip]="confirmErrorTip">
          <nz-select formControlName="state">
            <nz-option *ngFor="let option of stateOptions" [nzValue]="option.value"
                       [nzLabel]="option.value"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="postcode" [nzRequired]="true" [nzLabelAlign]="'left'">Postcode
        </nz-form-label>
        <nz-form-control [nzSpan]="6" [nzErrorTip]="confirmErrorTip">
          <input nz-input formControlName="postcode"/>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item [nzJustify]="'end'">
        <button nz-button type="submit" nzType="dashed">
          Next
        </button>
      </nz-form-item>
    </form>
  </div>
  <ng-template #confirmErrorTip let-i>
    <ng-container *ngIf="i.errors?.required">This fill is required</ng-container>
    <ng-container *ngIf="i.errors?.pattern">Wrong format</ng-container>
  </ng-template>

  <div *ngIf="currentPage === 2 ">
    <div>
      <img src="/assets/reg-form.jpg" alt="attention" width="80%" height="80%" style="margin-left: 10vh">
    </div>

    <nz-form-item [nzJustify]="'center'">
      <nz-button-group>
        <button nz-button nzType="default" type="button" (click)="previousPage()" class="page-btn">
          <span nz-icon nzType="left"></span>
          Back
        </button>
        <button nz-button nzType="primary" type="button" (click)="nextPage()">
          Next
          <span nz-icon nzType="right"></span>
        </button>
      </nz-button-group>
    </nz-form-item>

  </div>

  <div *ngIf="currentPage === 3 ">
    <div>
      <h4>BLOOD DONOR ELIGIBILITY QUESTIONNAIRES</h4>
      <nz-card class="card">
        <b> 'Any blood donor who is found to make false declaration pertaining to his or her high risk lifestyle
          behaviours will be prosecuted in Court under the existing laws' </b>
      </nz-card>
      <nz-alert
        nzType="info"
        nzDescription="Before you proceed with the questionnaires, please read and understand the statement on the front page.
         Answer the following questions by ticking âˆš in the appropriate boxes."
        nzShowIcon
      ></nz-alert>
    </div>

    <app-form-component [form]="questionnaires"></app-form-component>
    <nz-form-item *ngIf="isConsent">
      <ng-container><span style="color: red">Please agree to the DONOR DECLARATION AND CONSENT.</span>
      </ng-container>
    </nz-form-item>

    <nz-form-item [nzJustify]="'center'">
      <nz-button-group>
        <button nz-button nzType="default" type="button" (click)="previousPage()" class="page-btn">
          <span nz-icon nzType="left"></span>
          Back
        </button>
        <button nz-button type="submit" nzType="primary" (click)="show()" [nzLoading]="loading">
          Submit
        </button>
      </nz-button-group>
    </nz-form-item>
  </div>

  <div *ngIf="currentPage === 4">
    <nz-result
      nzStatus="success"
      nzTitle="Record Successfully Created!">
      <div nz-result-extra>
        <button nz-button nzType="primary" type="button">View Form</button>
        <a routerLink="../main-page">
          <button nz-button type="button">Back To Home</button>
        </a>
      </div>
    </nz-result>
  </div>

</donor-sidebar>
